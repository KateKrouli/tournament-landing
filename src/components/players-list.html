<div class="players-slider-wrapper">
  <div class="players-slider swiper">
    <div class="swiper-wrapper">
      <!-- JS сгенерирует слайды -->
    </div>
  </div>
</div>
<!-- Swiper CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Данные без повторов
  const names = ['Mustafa', 'Ahmet', 'Mehmet', 'Ali', 'Hasan', 'Murat'];
  const images = ['images/player1.webp', 'images/player2.webp', 'images/player3.webp', 'images/player4.webp', 'images/player5.webp', 'images/player6.webp'];
  const scores = ['2 - 1', '2 - 2', '0 - 0', '1 - 1', '1 - 2', '2 - 0'];

  // Перемешать массив (Фишер-Йетс)
  function shuffle(arr) {
    let a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  // Сколько слайдов максимум (по минимальному из массивов)
  const slidesCount = Math.min(names.length, images.length, scores.length);

  // Перемешиваем массивы
  const shuffledNames = shuffle(names);
  const shuffledImages = shuffle(images);
  const shuffledScores = shuffle(scores);

  const slides = [];
  for (let i = 0; i < slidesCount; i++) {
    const name = shuffledNames[i];
    const bg = shuffledImages[i];
    const score = shuffledScores[i];
    const count = Math.floor(Math.random() * 201) + 100; // 100-300
    slides.push(`
      <div class="players-list__item swiper-slide" style="background-image: url('${bg}');">
        <div class="players-list__content">
          <div class="players-list__info">
            <span class="players-list__name">${name}</span>
            <span class="players-list__count">${count} ₺</span>
          </div>
          <div class="players-list__score">
            <div class="players-list__team-logo">
              <img src="images/Fenerbahce.webp" alt="Fenerbahçe Logo" class="matches__logo--fener">
            </div>
            ${score}
            <div class="players-list__team-logo">
              <img src="images/Galatasaray.webp" alt="Galatasaray Logo" class="matches__logo--galata">
            </div>
          </div>
        </div>
      </div>
    `);
  }
  const wrapper = document.querySelector('.players-slider .swiper-wrapper');
  if (wrapper) {
    wrapper.innerHTML = slides.join('');
    // Определяем сколько слайдов реально помещается в контейнере
    const container = document.querySelector('.players-slider');
    let visibleSlides = 1;
    if (container) {
      const containerWidth = container.offsetWidth;
      visibleSlides = Math.floor(containerWidth / 280);
    }
    // loop и centeredSlides — только если слайдов больше, чем помещается на экране
    const enoughSlides = slides.length > visibleSlides;
    const swiper = new Swiper('.players-slider', {
      slidesPerView: 'auto',
      slidesPerGroup: 1,
      spaceBetween: 20,
      loop: enoughSlides,
      autoplay: {
        delay: 3500,
        disableOnInteraction: false,
      },
      centeredSlides: enoughSlides,
      speed: 500,
    });
    swiper.update();
  }
});
</script>